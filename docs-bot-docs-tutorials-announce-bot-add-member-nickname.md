<h1>Add member nickname | Root developer documentation</h1>
<header><h1>Add member nickname</h1></header>
<p>In this section, the main goal is to include the member's nickname in your Bot's response. But first, you'll change the command your Bot looks for.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-update-the-command">1. Update the command<a href="#1-update-the-command" class="hash-link" aria-label="Direct link to 1. Update the command" title="Direct link to 1. Update the command" translate="no">​</a></h2>
<ol>
<li class="">
<p>Open the <code>src/example.ts</code> file.</p>
</li>
<li class="">
<p>Locate the line that defines the prefix.</p>
</li>
<li class="">
<p>Change it from <code>/echo </code> to <code>/announce </code></p>
<details class="rcDetails_wFls"><summary class="summary_E8Sm"><span class="title_gTrq"><summary>Show code</summary></span><span class="chevron_I0Cb" aria-hidden="true"><svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path d="M5 6l3 4 3-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></summary><div class="content_wrp0"><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> prefix</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">"/announce "</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre></div></div></div></details>
</li>
<li class="">
<p>Build and run your Bot to verify that it now responds to <code>/announce</code>.</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-add-nickname">2. Add nickname<a href="#2-add-nickname" class="hash-link" aria-label="Direct link to 2. Add nickname" title="Direct link to 2. Add nickname" translate="no">​</a></h2>
<ol>
<li class="">
<p>Import <code>UserGuid</code> from <code>"@rootsdk/server-bot"</code>.</p>
</li>
<li class="">
<p>In the <code>onMessage</code> function, add a line of code that retrieves the <code>userId</code> property of the <code>evt</code> object. The <code>userId</code> is of type <code>UserGuid</code> so you'll need to add it to your imports.</p>
<details class="rcDetails_wFls"><summary class="summary_E8Sm"><span class="title_gTrq"><summary>Show code</summary></span><span class="chevron_I0Cb" aria-hidden="true"><svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path d="M5 6l3 4 3-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></summary><div class="content_wrp0"><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> userId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> UserGuid </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> evt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">userId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre></div></div></div></details>
</li>
<li class="">
<p>Modify the code to include the <code>userId</code> in the response message. You can use string concatenation on the <code>UserGuid</code> object.</p>
<details class="rcDetails_wFls"><summary class="summary_E8Sm"><span class="title_gTrq"><summary>Show code</summary></span><span class="chevron_I0Cb" aria-hidden="true"><svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path d="M5 6l3 4 3-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></summary><div class="content_wrp0"><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> response</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> userId </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">" said "</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> incomingText</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> createMessageRequest</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> ChannelMessageCreateRequest </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> channelId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> evt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">channelId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> content</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> response </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre></div></div></div></details>
</li>
<li class="">
<p>Run the Bot to test your work.</p>
</li>
<li class="">
<p>Notice that the <code>userId</code> isn't useful to community members. The Root API lets you exchange the <code>userId</code> for a <code>CommunityMember</code> object that contains the member's <code>nickname</code>. This will be much more useful for members to see than the <code>userId</code>. Complete the implementation of the following function to get the <code>nickname</code>.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// add CommunityMember and CommunityMemberGetRequest to your imports</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">getMemberNickname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">userId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> UserGuid</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">Promise</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token builtin" style="color:rgb(86, 156, 214)">string</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// TODO: Create a CommunityMemberGetRequest object containing the userId</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// TODO: Call the async method rootServer.community.communityMember.get() to retrieve a CommunityMember object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// TODO: Extract and return the nickname property.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre></div></div>
<details class="rcDetails_wFls"><summary class="summary_E8Sm"><span class="title_gTrq"><summary>Show code</summary></span><span class="chevron_I0Cb" aria-hidden="true"><svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path d="M5 6l3 4 3-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></summary><div class="content_wrp0"><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">getMemberNickname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">userId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> UserGuid</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">Promise</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token builtin" style="color:rgb(86, 156, 214)">string</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> request</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> CommunityMemberGetRequest </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> userId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> userId </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> member</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> CommunityMember </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">await</span><span class="token plain"> rootServer</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">community</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">communityMembers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> member</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">nickname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre></div></div></div></details>
</li>
<li class="">
<p>Modify your response to include the <code>nickname</code> instead of the <code>userId</code>.</p>
<details class="rcDetails_wFls"><summary class="summary_E8Sm"><span class="title_gTrq"><summary>Show code</summary></span><span class="chevron_I0Cb" aria-hidden="true"><svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path d="M5 6l3 4 3-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></summary><div class="content_wrp0"><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> userId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> UserGuid </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> evt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">userId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> nickname</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">getMemberNickname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">userId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> response</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> nickname </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">" said "</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> incomingText</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> createMessageRequest</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> ChannelMessageCreateRequest </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> channelId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> evt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">channelId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> content</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> response </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre></div></div></div></details>
</li>
<li class="">
<p>Run the Bot to test your work. You should see a human-readable name for the member.</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-format-the-nickname-as-a-mention">3. Format the nickname as a mention<a href="#3-format-the-nickname-as-a-mention" class="hash-link" aria-label="Direct link to 3. Format the nickname as a mention" title="Direct link to 3. Format the nickname as a mention" translate="no">​</a></h2>
<p>A <em>mention</em> is a Root-specific link that lets other members easily interact with that member. The format is <code>root://user/userId</code>.</p>
<ol>
<li class="">
<p>Use the following code to format the member's nickname as a mention:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> mention </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">"[@"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> nickname </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">"](root://user/"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> evt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">userId </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">")"</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Replace the <code>nickname</code> with the <code>mention</code> in your response.</p>
</li>
<li class="">
<p>Run the Bot to test your work. Select the mention in the Root native client to see the functionality it enables.</p>
</li>
</ol>